Search.setIndex({"docnames": ["api", "example_geysers", "examples", "index", "installation", "specufex", "usage"], "filenames": ["api.rst", "example_geysers.ipynb", "examples.rst", "index.rst", "installation.rst", "specufex.rst", "usage.rst"], "titles": ["API", "SpecUFEx Example: The Geysers, California", "Examples", "Welcome to SpecUFEx!", "Installation", "SpecUFEx", "Usage"], "terms": {"contain": [0, 1, 2, 6], "code": [0, 1, 3], "fit": [0, 5], "us": [0, 1, 2, 3, 5, 6], "nonneg": [0, 1, 5, 6], "matrix": [0, 5, 6], "factor": [0, 5, 6], "model": [0, 5], "class": [0, 1, 6], "bayesiannonparametricnmf": [0, 1, 6], "input_dim": 0, "num_pat": [0, 1, 6], "75": 0, "python": [0, 4], "implement": [0, 1], "stochast": [0, 5], "variat": [0, 5], "infer": [0, 1, 5], "non": 0, "neg": [0, 1], "adapt": 0, "from": [0, 5, 6], "origin": [0, 1], "matlab": 0, "john": [0, 3, 5], "paislei": [0, 3, 5], "expect": [0, 1], "normal": [0, 1, 6], "matric": [0, 1, 5, 6], "paramet": [0, 6], "tupl": [0, 1], "int": [0, 1], "dimens": [0, 1, 6], "spectrogram": [0, 5, 6], "number": [0, 1, 6], "x": [0, 1, 6], "frequenc": [0, 1, 6], "band": [0, 1, 6], "timestep": [0, 1, 6], "initi": [0, 6], "pattern": [0, 1, 6], "y": 0, "none": 0, "resort_arg": 0, "true": [0, 1], "stepsiz": 0, "verbos": 0, "0": [0, 1, 6], "svi": 0, "data": [0, 5], "can": [0, 1, 4, 5, 6], "increment": 0, "batch": [0, 1, 6], "3": [0, 1, 4], "dimension": 0, "numpi": [0, 1, 4, 6], "arrai": [0, 1], "The": [0, 2, 3, 5, 6], "random": [0, 1], "order": [0, 1, 6], "befor": 0, "pass": [0, 1, 6], "thi": [0, 1, 4, 6], "function": [0, 1, 6], "option": [0, 1], "sampl": [0, 1], "calcul": [0, 5, 6], "loss": 0, "Not": [0, 1], "yet": [0, 4, 6], "bool": 0, "default": 0, "whether": 0, "resort": 0, "increas": 0, "interpret": 0, "result": [0, 1, 6], "float": 0, "constant": 0, "step": [0, 6], "size": [0, 1], "learn": [0, 1, 3, 5, 6], "rate": [0, 1], "If": [0, 3], "specifi": 0, "predetermin": 0, "anneal": 0, "schedul": 0, "output": 0, "1": [0, 1], "current": [0, 1, 6], "2": [0, 1], "higher": 0, "temp": 0, "return": [0, 1], "save": [0, 1], "ew": [0, 1], "ea": [0, 1], "ewlna": 0, "gain": [0, 1, 6], "object": [0, 1, 6], "type": 0, "fit_transform": [0, 1, 6], "transform": [0, 5], "minibatch": [0, 6], "activ": [0, 1, 4], "v": 0, "s": [0, 1], "each": [0, 1, 5, 6], "classmethod": 0, "load": 0, "filenam": [0, 6], "an": [0, 1, 5, 6], "hdf5": [0, 1], "file": [0, 1], "string": 0, "name": [0, 1], "path": 0, "readi": [0, 6], "overwrit": 0, "fals": [0, 1], "train": [0, 6], "alreadi": [0, 6], "exist": 0, "set": 0, "individu": [0, 1], "base": [0, 1, 6], "trransform": 0, "hidden": [0, 5], "markov": [0, 5], "bayesianhmm": [0, 1, 6], "num_stat": [0, 1], "15": [0, 1], "max_inner_it": 0, "20": [0, 1], "neff": [0, 1], "100000": [0, 1], "fingerprint": [0, 5, 6], "access": 0, "via": [0, 6], "perhap": 0, "we": [0, 1, 4, 6], "get": 0, "rid": 0, "abov": [0, 1, 6], "param": 0, "some": [0, 1], "point": 0, "could": 0, "make": [0, 1], "independ": 0, "state": [0, 1, 5, 6], "time": [0, 5, 6], "iter": 0, "forward": 0, "backward": 0, "algorithm": [0, 1, 3, 5], "aproxim": 0, "seem": 0, "influenc": 0, "through": [0, 1], "line": 0, "134": 0, "135": 0, "below": [0, 1], "resort_eb": 0, "energi": 0, "intern": 0, "variabl": [0, 6], "refer": [0, 1, 3], "dim": 0, "row": [0, 1, 6], "also": [0, 1], "column": [0, 1, 6], "len_seq": 0, "h": 0, "b": [0, 3], "gamma": 0, "distribut": 0, "A": [0, 1, 3, 5], "transit": [0, 1, 5, 6], "dirichlet": 0, "lnprh": 0, "ppi": [0, 6], "n_matric": 0, "str": 0, "do": [0, 1, 6], "sort": 0, "eb": [0, 1], "emiss": 0, "distanc": 0, "singl": [0, 1], "linkag": 0, "hierarch": [0, 1], "cluster": 0, "pairwis": 0, "between": 0, "doesn": 0, "t": [0, 1], "produc": [0, 1], "optim": 0, "global": 0, "gener": [0, 1], "sum": 0, "ascend": 0, "e1": 0, "e2": 0, "elnb": 0, "itself": 0, "one": [0, 1, 6], "final": [0, 1], "featur": [0, 1, 3, 5], "vector": [0, 6], "ultim": [0, 6], "creat": [0, 6], "previous": 0, "fprint": 0, "As": [0, 1, 6], "gam": [0, 1], "stack": [0, 1, 6], "sequenc": [0, 1, 5], "ar": [0, 1, 5, 6], "probabl": [0, 1, 5], "system": [0, 1], "wa": [0, 1, 3], "particular": [0, 1], "provid": 0, "saveablemodel": 0, "abstract": 0, "mixin": 0, "method": [0, 1, 3, 5, 6], "genericand": 0, "_load": 0, "need": 0, "call": [0, 6], "custom": 0, "other": [0, 1, 5], "ensur": [0, 1], "constructor": [0, 1, 6], "correct": 0, "argument": [0, 1], "exampl": [0, 3, 6], "mymodel": 0, "def": 0, "__init__": 0, "self": 0, "cl": 0, "fiilenam": 0, "my_model": 0, "filename2": 0, "helper": 0, "should": [0, 1, 4], "typic": [0, 4], "instanc": 0, "written": 1, "theresa": 1, "sawi": 1, "nate": 1, "groebner": 1, "studi": 1, "machin": [1, 3, 5], "reveal": [1, 3], "cyclic": [1, 3], "chang": [1, 3], "seismic": [1, 3, 5], "sourc": [1, 3], "spectra": [1, 3], "geotherm": [1, 3], "field": [1, 3], "doi": 1, "10": 1, "1126": 1, "sciadv": 1, "aao2929": 1, "walk": 1, "seismogram": 1, "approxim": 1, "46": 1, "000": 1, "microearthquak": 1, "extract": [1, 5], "k": [1, 3], "mean": 1, "identifi": 1, "4": [1, 3], "earthquak": 1, "correl": 1, "water": 1, "flow": 1, "inject": 1, "well": [1, 4], "read": 1, "filter": 1, "median": 1, "follow": [1, 2], "paper": 1, "datetim": 1, "h5py": [1, 4], "matplotlib": 1, "pyplot": 1, "plt": 1, "cm": 1, "np": [1, 6], "panda": 1, "pd": 1, "scipi": [1, 4], "signal": 1, "sp": 1, "sklearn": 1, "seaborn": 1, "sn": 1, "tqdm": 1, "trang": 1, "id": 1, "store": 1, "datafram": 1, "easier": 1, "manipul": 1, "all_waveform": 1, "h5": 1, "r": 1, "f": [1, 3], "trace": 1, "event_id": 1, "asstr": 1, "print": 1, "len": 1, "cat": 1, "list": 1, "head": 1, "45918": 1, "sqk": 1, "bg": 1, "dpz": 1, "d": [1, 3, 6], "001": 1, "001850": 1, "9": 1, "366470582736789e": 1, "08": 1, "7": [1, 4], "655206533462191e": 1, "002355": 1, "404378429170258e": 1, "6": 1, "503093421575965e": 1, "004045": 1, "2386264788434286e": 1, "1953521799737826e": 1, "010620": 1, "2988539628874798e": 1, "09": 1, "8": 1, "042296180480629e": 1, "012322": 1, "769589230310885e": 1, "198216536693702e": 1, "These": [1, 5], "control": 1, "two": [1, 5, 6], "fs": 1, "len_data": 1, "depend": [1, 4], "themselv": 1, "all": [1, 6], "must": [1, 6], "have": [1, 4, 6], "same": 1, "see": 1, "http": [1, 3, 4], "doc": 1, "org": [1, 3], "html": 1, "more": 1, "inform": 1, "about": 1, "500": 1, "hz": 1, "10000": 1, "bandpass": 1, "fmin": 1, "5": [1, 3], "fmax": 1, "150": 1, "sgrammod": 1, "magnitud": 1, "sgramscal": 1, "spectrum": 1, "resolut": 1, "nperseg": 1, "128": 1, "noverlap": 1, "nfft": 1, "1024": 1, "nmf": [1, 6], "requir": 1, "valu": 1, "procedur": 1, "element": 1, "wise": 1, "raw": 1, "fstft": 1, "tstft": 1, "stft_raw": 1, "scale": 1, "axi": 1, "mode": 1, "qualiti": 1, "check": [1, 6], "ani": 1, "nan": 1, "isnan": 1, "select": 1, "applic": 1, "benefit": 1, "discard": 1, "low": 1, "high": 1, "e": [1, 4], "g": 1, "signific": 1, "nois": 1, "appli": 1, "domain": 1, "freq_slic": 1, "where": [1, 6], "stft_0": 1, "squeez": 1, "next": [1, 6], "its": [1, 6], "half": 1, "nonzero": 1, "entri": [1, 6], "posit": 1, "zero": 1, "ha": [1, 4, 6], "valid": 1, "It": [1, 4, 5], "effect": 1, "throw": 1, "awai": 1, "normconst": 1, "stft_norm": 1, "newaxi": 1, "norm": 1, "del": 1, "stft_db": 1, "log10": 1, "stft": 1, "maximum": 1, "sure": 1, "anoth": 1, "bad_idx": 1, "lambda": 1, "index": [1, 3], "bad": 1, "n": [1, 6], "loc": 1, "drop": 1, "sort_valu": 1, "seri": 1, "dtype": 1, "counterpart": 1, "notic": 1, "how": 1, "overal": 1, "dynam": 1, "rang": 1, "compress": 1, "11": 1, "n_spectrogram": 1, "ax": 1, "subplot": 1, "figsiz": 1, "pcolormesh": 1, "set_xlabel": 1, "set_ylabel": 1, "set_titl": 1, "text": 1, "39": 1, "group": [1, 5, 6], "m": [1, 6], "compat": [1, 6], "being": [1, 6], "dataset": [1, 6], "consist": [1, 5, 6], "main": [1, 6], "packag": [1, 4, 6], "scikit": [1, 6], "api": [1, 3, 6], "style": [1, 6], "first": [1, 5, 6], "decompos": 1, "common": 1, "dictionari": 1, "bayesian": 1, "estim": [1, 6], "decomposit": 1, "instanti": [1, 6], "take": [1, 6], "shape": 1, "loop": 1, "In": [1, 6], "our": [1, 6], "case": [1, 6], "100": 1, "13": 1, "batch_siz": 1, "desc": 1, "progress": 1, "leav": 1, "i": 1, "idx": 1, "randint": 1, "iloc": 1, "set_postfix_str": 1, "50": 1, "lt": 1, "00": 1, "21": 1, "97it": 1, "45": 1, "diag": 1, "xlabel": 1, "xtick": 1, "ylabel": 1, "show": 1, "find": [1, 6], "vs": [1, 6], "w": 1, "12": 1, "here": 1, "correpsond": 1, "26": 1, "ytick": 1, "rememb": 1, "problem": 1, "so": [1, 4, 6], "illustr": 1, "describ": 1, "observ": 1, "unobserv": 1, "compon": 1, "assum": 1, "emit": 1, "hmm": [1, 5, 6], "most": 1, "setup": [1, 6], "correctli": [1, 6], "similar": [1, 6], "14": 1, "46000": 1, "75000": 1, "32": 1, "59": 1, "37": 1, "89it": 1, "emmiss": 1, "relat": 1, "imshow": 1, "lower": 1, "_": 1, "which": [1, 6], "statist": 1, "represent": [1, 6], "like": [1, 6], "count": 1, "17": 1, "correspond": 1, "given": 1, "18": 1, "imag": 1, "axesimag": 1, "0x16ac71790": 1, "gt": 1, "And": 1, "actual": 1, "tempor": 1, "when": 1, "27": 1, "reduc": [1, 3, 5, 6], "input": [1, 5], "unsupervis": [1, 5], "2d": 1, "1d": 1, "fingerprints_": 1, "reshap": 1, "predict": 1, "label": 1, "y_pred": 1, "n_cluster": 1, "random_st": 1, "42": 1, "fit_predict": 1, "now": [1, 6], "date_list": 1, "split": [1, 6], "19": 1, "22": 1, "year": 1, "date": 1, "timestamp": 1, "dateoffset": 1, "append": [1, 6], "df": 1, "date_index": 1, "set_index": 1, "inplac": 1, "timebin": 1, "event": 1, "per": 1, "month": 1, "barwidth": 1, "barheightspadlist": 1, "barheightspadlistnorm": 1, "normbar": 1, "color": 1, "clus_ev": 1, "barheight": 1, "resampl": 1, "pad": 1, "bar": 1, "thei": 1, "start": 1, "later": 1, "end": 1, "earlier": 1, "startfil": 1, "date_rang": 1, "freq": 1, "endfil": 1, "startfillz": 1, "int64": 1, "endfillz": 1, "barheightspad": 1, "hstack": 1, "barheightspadnorm": 1, "max": 1, "barheights_ar": 1, "barheights_arnorm": 1, "35": 1, "heatmap": 1, "cmap": 1, "orang": 1, "vmin": 1, "anchor": 1, "colormap": 1, "otherwis": 1, "keyword": 1, "vmax": 1, "squar": 1, "hour": 1, "labelpad": 1, "set_ytick": 1, "set_yticklabel": 1, "sinc": 1, "jan": 1, "im": 1, "imread": 1, "holtzman2018_figur": 1, "png": 1, "set_aspect": 1, "auto": 1, "tight_layout": 1, "off": 1, "too": 1, "note": [1, 6], "assign": 1, "randomli": 1, "mai": [1, 6], "differ": 1, "won": 1, "perfectli": 1, "slightli": 1, "page": [2, 3], "specufex": [2, 4, 6], "geyser": [2, 3], "california": 2, "instal": 3, "virtual": [], "environ": [], "pip": [], "usag": 3, "tutori": [], "import": 6, "waveform": [3, 5], "convert": [], "db": [], "run": [], "probabilist": 5, "noneg": [], "kmean": [], "plot": [], "over": [], "2012": [], "2014": [], "compar": [], "figur": [], "3c": [], "holtzman": [3, 5, 6], "et": [5, 6], "al": [5, 6], "2018": [3, 5], "modelutil": [], "suitabl": 3, "design": 3, "columbia": 3, "univers": 3, "you": [3, 4, 6], "publish": 3, "research": 3, "pleas": 3, "pat\u00e9": 3, "j": 3, "waldhaus": 3, "repetto": 3, "scienc": 3, "advanc": 3, "sciencemag": 3, "eaao2929": 3, "modul": 3, "search": 3, "been": 4, "test": 4, "far": 4, "recommend": 4, "conda": 4, "virtualenv": 4, "work": 4, "while": 4, "doe": [4, 6], "specif": 4, "onc": [4, 5, 6], "your": [4, 6], "clone": 4, "repositori": 4, "comput": 4, "cd": 4, "directori": 4, "git": 4, "github": 4, "com": 4, "nategroebn": 4, "stand": 5, "spectral": 5, "develop": 5, "present": 5, "speufex": 5, "nonparametr": 5, "short": 5, "fourier": 5, "both": [5, 6], "hoff2013": 5, "therefor": 5, "scalabl": 5, "ten": 5, "hundr": 5, "thousand": 5, "constitut": 5, "varieti": 5, "supervis": 5, "ref": 5, "hoffman": 5, "blei": 5, "wang": 5, "2013": 5, "preprocess": 6, "For": 6, "includ": 6, "util": 6, "py": 6, "normalize_spectrogram": 6, "xi": 6, "simpli": 6, "done": 6, "new": 6, "futur": 6, "hope": 6, "converg": 6, "criterion": 6, "elbo": 6, "left": 6, "hs": 6, "right": 6, "xpwr": 6, "pro": 6, "tip": 6, "conveni": 6, "command": 6, "howev": 6, "long": 6, "want": 6, "piec": 6, "someth": 6, "goe": 6, "wrong": 6, "power": 6, "outag": 6, "Or": 6, "interest": 6, "either": 6, "built": 6, "likewis": 6}, "objects": {"specufex": [[0, 0, 0, "-", "hmm"], [0, 0, 0, "-", "modelutils"], [0, 0, 0, "-", "nmf"]], "specufex.hmm": [[0, 1, 1, "", "BayesianHMM"]], "specufex.hmm.BayesianHMM": [[0, 2, 1, "", "fit"], [0, 2, 1, "", "fit_transform"], [0, 2, 1, "", "load"], [0, 2, 1, "", "save"], [0, 2, 1, "", "transform"]], "specufex.modelutils": [[0, 1, 1, "", "SaveableModel"]], "specufex.modelutils.SaveableModel": [[0, 2, 1, "", "_load"], [0, 2, 1, "", "save"]], "specufex.nmf": [[0, 1, 1, "", "BayesianNonparametricNMF"]], "specufex.nmf.BayesianNonparametricNMF": [[0, 2, 1, "", "fit"], [0, 2, 1, "", "fit_transform"], [0, 2, 1, "", "load"], [0, 2, 1, "", "save"], [0, 2, 1, "", "transform"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"api": 0, "specufex": [0, 1, 3, 5], "nmf": 0, "hmm": 0, "modelutil": 0, "exampl": [1, 2], "The": 1, "geyser": 1, "california": 1, "tutori": 1, "step": 1, "import": 1, "load": [1, 6], "waveform": 1, "creat": 1, "spectrogram": 1, "set": 1, "paramet": 1, "calcul": 1, "convert": 1, "db": 1, "run": 1, "fit": [1, 6], "model": [1, 6], "transform": [1, 6], "data": [1, 6], "probabilist": 1, "noneg": 1, "matrix": 1, "factor": 1, "hidden": 1, "markov": 1, "cluster": 1, "fingerprint": 1, "kmean": 1, "plot": 1, "over": 1, "time": 1, "2012": 1, "2014": 1, "compar": 1, "figur": 1, "3c": 1, "from": 1, "holtzman": 1, "et": 1, "al": 1, "2018": 1, "welcom": 3, "content": 3, "indic": 3, "tabl": 3, "instal": 4, "requir": 4, "virtual": 4, "environ": 4, "us": 4, "pip": 4, "usag": 6, "save": 6}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 56}})